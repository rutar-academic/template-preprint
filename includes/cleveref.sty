% cleveref
% --------
\numberwithin{equation}{section}
\RequirePackage[capitalise,nameinlink]{cleveref}
\newenvironment{proofref}[1]{\begin{proof}[of \cref{#1}]}{\end{proof}}

\AddToHook{env/proposition/begin}{\crefalias{theorem}{proposition}}
\AddToHook{env/definition/begin}{\crefalias{theorem}{definition}}
\AddToHook{env/remark/begin}{\crefalias{theorem}{remark}}
\AddToHook{env/lemma/begin}{\crefalias{theorem}{lemma}}
\AddToHook{env/corollary/begin}{\crefalias{theorem}{corollary}}
\AddToHook{env/conjecture/begin}{\crefalias{theorem}{conjecture}}
\AddToHook{env/question/begin}{\crefalias{theorem}{question}}
\AddToHook{env/itheorem/begin}{\crefalias{theorem}{itheorem}}
\AddToHook{env/ilemma/begin}{\crefalias{theorem}{ilemma}}
\AddToHook{env/iproposition/begin}{\crefalias{theorem}{iproposition}}
\AddToHook{env/icorollary/begin}{\crefalias{theorem}{icorollary}}

% Format references
\crefformat{claim}{#2Claim~#1#3}
\crefformat{corollary}{#2Corollary~#1#3}
\crefformat{enumi}{#2#1#3}
\crefformat{equation}{(#2#1#3)}
\crefformat{figure}{#2Figure~#1#3}
\crefformat{icorollary}{#2Corollary~#1#3}
\crefformat{itheorem}{#2Theorem~#1#3}
\crefformat{ilemma}{#2Lemma~#1#3}
\crefformat{iproposition}{#2Proposition~#1#3}
\crefformat{lemma}{#2Lemma~#1#3}
\crefformat{proposition}{#2Proposition~#1#3}
\crefformat{section}{#2ยง#1#3}
\crefformat{subsection}{#2ยง#1#3}
\crefformat{theorem}{#2Theorem~#1#3}
